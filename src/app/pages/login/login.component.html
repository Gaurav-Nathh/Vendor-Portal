<section id="login-page">
  <!-- Theme Toggle -->
  <section class="theme-toggle-container">
    <app-theme-toggle></app-theme-toggle>
  </section>

  <!-- Main Login Container -->
  <section id="login-main">
    <!-- Login Form Section -->
    <section id="login-section">
      <div class="login-content">
        <img src="/assets/efacto.webp" alt="Logo" class="logo" />

        <div class="text-detls">
          <span class="login-title">Log in</span>
          <span class="login-subtitle">to access Portal</span>
        </div>

        <form #loginForm="ngForm" (ngSubmit)="onSubmit(loginForm)">
          <!-- Email Field -->
          <div class="input-field">
            <input
              type="email"
              name="email"
              id="email"
              class="form-control"
              placeholder="Email address"
              [(ngModel)]="model.email"
              #email="ngModel"
              required
              email
              [readonly]="submittedEmail"
            />
            <div *ngIf="email.touched && email.invalid" class="error-text">
              <div *ngIf="email.errors?.['required']">Email is required.</div>
              <div *ngIf="email.errors?.['email']">
                Please enter a valid email.
              </div>
            </div>
          </div>
          
          <!-- Next Button -->
          <button
            *ngIf="!showPasswordField"
            type="button"
            (click)="onNextStep(email)"
            class="btn btn-full-width next-btn"
          >
            Next
          </button>

          <!-- Password Field & Login Button -->
          <div *ngIf="showPasswordField">
            <div class="input-field">
              <div class="input-aria">
                <i
                  class="bi"
                  [ngClass]="{
                    'bi-eye-fill': hidepassword,
                    'bi-eye-slash-fill': !hidepassword
                  }"
                  (click)="togglePassword()"
                ></i>
                <input
                  [type]="hidepassword ? 'password' : 'text'"
                  name="password"
                  id="password"
                  placeholder="Enter your password"
                  [(ngModel)]="model.password"
                  #password="ngModel"
                  required
                />
              </div>
              <div
                *ngIf="password.touched && password.invalid"
                class="error-text"
              >
                <div *ngIf="password.errors?.['required']">
                  Password is required.
                </div>
              </div>
            </div>

            <!-- Forgot Password -->
            <div class="controls">
              <small>Forgot password?</small>
            </div>

            <!-- Submit Button -->
            <button type="submit" id="login-btn" [disabled]="loginForm.invalid">
              Login
            </button>
          </div>
        </form>

        <!-- Company Details -->
        <div class="company-details">
          <h6>© BNG Infotech Private Limited</h6>
        </div>
      </div>
    </section>

    <!-- Image Section (Hidden on small screens) -->
    <section id="img-section" class="carousel">
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img src="/assets/images/vendor_loginpage_img_1.svg" alt="Image 1" />
          <div class="img-info">
            <span>A centralized platform that streamlines communication between vendors and customers.</span>
          </div>
        </div>
        <div class="carousel-item">
          <img src="/assets/images/vendor_loginpage_img_2.svg" alt="Image 2" />
          <div class="img-info">
            <span>Enhance your business operations with real-time insights.</span>
          </div>
        </div>
      </div>
      <div class="carousel-indicator">
        <div class="indicator-bar" [style.width.%]="indicatorWidth"></div>
      </div>
    </section>
  </section>

  <!-- Footer -->
  <small class="footer">© 2025, BNG Pvt.Ltd. All Right Reserved.</small>
</section>